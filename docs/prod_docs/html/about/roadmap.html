<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="prev" title="Waffle’s goals" href="goals.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>Roadmap - django-waffle 4.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">django-waffle 4.1.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">django-waffle 4.1.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="why-waffle.html">Why Waffle?</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../starting/index.html">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Getting Started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../starting/requirements.html">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../starting/installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../starting/upgrading.html">Upgrading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../starting/configuring.html">Configuring Waffle</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../types/index.html">Types</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Types</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../types/flag.html">Flags</a></li>
<li class="toctree-l2"><a class="reference internal" href="../types/switch.html">Switches</a></li>
<li class="toctree-l2"><a class="reference internal" href="../types/sample.html">Samples</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../usage/index.html">Using Waffle</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Using Waffle</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage/views.html">Using Waffle in views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/decorators.html">Decorating entire views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/mixins.html">Mixins for Class Based Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/templates.html">Using Waffle in templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/javascript.html">Using WaffleJS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/json.html">Waffle Status as JSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/cli.html">Managing Waffle data from the command line</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../testing/index.html">Testing with Waffle</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Testing with Waffle</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../testing/automated.html">Automated testing with Waffle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/user.html">User testing with Waffle</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to Waffle</a></li>
<li class="toctree-l1"><a class="reference internal" href="goals.html">Waffle’s goals</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Roadmap</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/django-waffle/django-waffle/edit/master/docs/about/roadmap.rst" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="roadmap">
<span id="about-roadmap"></span><h1>Roadmap<a class="headerlink" href="#roadmap" title="Link to this heading">#</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This roadmap is subject to change, but represents the rough
direction I plan to go. For specific issues, see the current
<a class="reference external" href="https://github.com/django-waffle/django-waffle/milestones">milestones</a>.</p>
</div>
<p>Waffle is already a useful library used in many production systems, but
it is not done evolving.</p>
<section id="present-through-pre-1-0">
<h2>Present through pre-1.0<a class="headerlink" href="#present-through-pre-1-0" title="Link to this heading">#</a></h2>
<p>The immediate future is finishing common segment features and bug fixes.</p>
<section id="x">
<h3>0.10.2–0.11.x<a class="headerlink" href="#x" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://github.com/django-waffle/django-waffle/milestones/0.10.2">0.10.2</a> was primarily a docs overhaul with a major fix to how caching
works. It was combined with <a class="reference external" href="https://github.com/django-waffle/django-waffle/milestones/0.11">0.11</a>. It did include test utilities for
consumers.</p>
<p><a class="reference external" href="https://github.com/django-waffle/django-waffle/milestones/0.11">0.11</a> updated support, dropping 1.5 and adding 1.8, and overhauled Jinja
integration to be compatible with any Jinja2 helper, like jingo or—more
future-proof—<a class="reference external" href="https://niwinz.github.io/django-jinja/latest/">django-jinja</a>.</p>
<p>0.11.1 is probably the last release of the <a class="reference external" href="https://github.com/django-waffle/django-waffle/milestones/0.11.x">0.11.x</a> series. It added
support for Django 1.9 without deprecating any other versions.</p>
</section>
<section id="id1">
<h3>0.12<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://github.com/django-waffle/django-waffle/milestones/0.12">0.12</a> includes a couple of significant refactors designed to pay down
some of the debt that’s accrued in the past few years.</p>
<p>It also includes support for Django 1.10 and above.</p>
</section>
<section id="id2">
<h3>0.13<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://github.com/django-waffle/django-waffle/milestones/0.13">0.13</a> drops support for all versions of Django prior to 1.8, including
dropping South migrations (and finally being rid of the old issues with
them). Along with that, it changes the way settings are configured to be
more modern.</p>
<p>0.13 is about closing some long-standing feature gaps, like segmenting
by IP and User-Agent.</p>
<p>It also includes finally making a decision about
auto-create/data-in-settings.</p>
</section>
</section>
<section id="toward-1-0">
<h2>Toward 1.0<a class="headerlink" href="#toward-1-0" title="Link to this heading">#</a></h2>
<p>There are no solid criteria for what makes 1.0 right now, but after
0.13, most outstanding issues will be resolved and Waffle will be in
very good shape. There are no plans for a 0.14, so it seems likely that
the next step after 0.13 would be some clean-up and finally a 1.0.</p>
</section>
<section id="beyond-1-0">
<h2>Beyond 1.0<a class="headerlink" href="#beyond-1-0" title="Link to this heading">#</a></h2>
<p><em>tl;dr: Waffle2 may be a complete break from Waffle.</em></p>
<p>Waffle is one of the first Python libraries I created, you can see that
in the amount of code I left in <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code>. It is also 5 years old,
and was created during a different period in my career, and in Django.</p>
<p>There are some philosophical issues with how Waffle is designed. Adding
new methods of segmenting users requires at least one new column each,
and increasing the cyclomatic complexity. Caching is difficult. The
requirements are stringent and no longer realistic (they were created
before Django 1.5). The distinction between Flags, Samples, and Switches
is confusing and triples the API surface area (Flags can easily act as
Switches, less easily as Samples). It is not extensible.</p>
<p>Some challenges also just accrue over time. Dropping support for Django
1.4, the current Extended Support Release, would significantly simplify
a few parts.</p>
<p>There is a simplicity to Waffle that I’ve always appreciated vs, say,
<a class="reference external" href="https://github.com/disqus/gargoyle">Gargoyle</a>. Not least of which is that Waffle works with the built-in
admin (or any other admin you care to use). I don’t have to write any
code to start using Waffle, other than an <code class="docutils literal notranslate"><span class="pre">if</span></code> block. Just add a row
and click some checkboxes. Most batteries are included. These are all
things that any new version of Waffle must maintain.</p>
<p>Still, if I <em>want</em> to write code to do some kind of custom segment that
isn’t common-enough to belong in Waffle, shouldn’t I be able to? (And,
if all the core segmenters were built as the same kind of extension, we
could lower the bar for inclusion.) If I only care about IP address and
percentage, it would be great to skip all the other checks that just
happen to be higher in the code.</p>
<p>I have rough sketches of what this looks like, but there are still some
significant sticking points, particularly around shoehorning all of this
into the existing Django admin. I believe it’s <em>possible</em>, just
potentially <em>gross</em>. (Then again, if it’s gross underneath but exposes a
pleasant UI, that’s not ideal, but it’s OK.)</p>
<p>The other big sticking point is that this won’t be a simple <code class="docutils literal notranslate"><span class="pre">ALTER</span>
<span class="pre">TABLE</span> <span class="pre">wafle_flag</span> <span class="pre">ADD</span> <span class="pre">COLUMN</span></code> upgrade; things will break.</p>
<p>I’ve been thinking what Waffle would be like if I designed it from
scratch today with slightly different goals, like extensibility. Beyond
1.0, it’s difficult to see continuing to add new features without this
kind of overhaul.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          <a class="prev-page" href="goals.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Waffle’s goals</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2012-2018, James Socol
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/django-waffle/django-waffle" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Roadmap</a><ul>
<li><a class="reference internal" href="#present-through-pre-1-0">Present through pre-1.0</a><ul>
<li><a class="reference internal" href="#x">0.10.2–0.11.x</a></li>
<li><a class="reference internal" href="#id1">0.12</a></li>
<li><a class="reference internal" href="#id2">0.13</a></li>
</ul>
</li>
<li><a class="reference internal" href="#toward-1-0">Toward 1.0</a></li>
<li><a class="reference internal" href="#beyond-1-0">Beyond 1.0</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=42d1b3bd"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    </body>
</html>